<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalkulator Timbangan Cengkeh</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        h1 {
            color: #2e7d32;
            text-align: center;
        }
        .container {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        input, select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
        }
        button {
            background-color: #2e7d32;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin-right: 10px;
        }
        button:hover {
            background-color: #1b5e20;
        }
        .result {
            margin-top: 20px;
            padding: 15px;
            background-color: #e8f5e9;
            border-radius: 4px;
            display: none;
        }
        .print-area {
            border: 1px dashed #ccc;
            padding: 20px;
            margin-top: 20px;
            background-color: white;
            display: none;
        }
        @media print {
            body * {
                visibility: hidden;
            }
            .print-area, .print-area * {
                visibility: visible;
            }
            .print-area {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
                border: none;
            }
            .no-print {
                display: none;
            }
        }
        .button-group {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Kalkulator Timbangan Cengkeh</h1>
        
        <div class="form-group">
            <label for="nama">Nama Timbangan:</label>
            <input type="text" id="nama" placeholder="Masukkan nama timbangan">
        </div>
        
        <div class="form-group">
            <label for="alamat">Alamat:</label>
            <input type="text" id="alamat" placeholder="Masukkan alamat">
        </div>
        
        <div class="form-group">
            <label for="hp">No. HP:</label>
            <input type="text" id="hp" placeholder="Masukkan nomor HP">
        </div>
        
        <div class="form-group">
            <label for="tanggal">Tanggal:</label>
            <input type="date" id="tanggal">
        </div>
        
        <div class="form-group">
            <label for="berat">Berat (kg):</label>
            <input type="number" id="berat" placeholder="Masukkan berat dalam kg" step="0.01">
        </div>
        
        <div class="form-group">
            <label for="harga">Harga per kg (Rp):</label>
            <input type="number" id="harga" placeholder="Masukkan harga per kg">
        </div>
        
        <div class="button-group no-print">
            <button onclick="hitung()">Hitung</button>
            <button onclick="resetForm()">Reset</button>
        </div>
        
        <div id="hasil" class="result">
            <h3>Hasil Perhitungan</h3>
            <p>Total Harga: <span id="totalHarga"></span></p>
            <button onclick="tampilkanCetak()" class="no-print">Cetak Hasil</button>
        </div>
        
        <div id="printArea" class="print-area">
            <h2 style="text-align: center; color: #2e7d32;">NOTA TIMBANGAN CENGKEH</h2>
            <hr>
            <p><strong>Nama Timbangan:</strong> <span id="printNama"></span></p>
            <p><strong>Alamat:</strong> <span id="printAlamat"></span></p>
            <p><strong>No. HP:</strong> <span id="printHp"></span></p>
            <p><strong>Tanggal:</strong> <span id="printTanggal"></span></p>
            <hr>
            <p><strong>Berat:</strong> <span id="printBerat"></span> kg</p>
            <p><strong>Harga per kg:</strong> Rp <span id="printHarga"></span></p>
            <hr>
            <h3 style="text-align: right;">Total: Rp <span id="printTotal"></span></h3>
            <p style="text-align: center; margin-top: 50px;">Terima kasih atas kepercayaan Anda</p>
            
            <div class="button-group no-print">
                <button onclick="cetak()">Cetak Sekarang</button>
                <button onclick="sembunyikanCetak()">Kembali</button>
            </div>
        </div>
    </div>

    <script>
        // Set tanggal hari ini sebagai default
        document.getElementById('tanggal').valueAsDate = new Date();
        
        function hitung() {
            // Ambil nilai dari form
            const nama = document.getElementById('nama').value;
            const alamat = document.getElementById('alamat').value;
            const hp = document.getElementById('hp').value;
            const tanggal = document.getElementById('tanggal').value;
            const berat = parseFloat(document.getElementById('berat').value);
            const harga = parseInt(document.getElementById('harga').value);
            
            // Validasi input
            if (!nama || !alamat || !hp || !tanggal || isNaN(berat) || isNaN(harga)) {
                alert('Harap isi semua field dengan benar!');
                return;
            }
            
            // Hitung total harga
            const total = berat * harga;
            
            // Tampilkan hasil
            document.getElementById('totalHarga').textContent = 'Rp ' + total.toLocaleString('id-ID');
            
            // Isi data untuk cetak
            document.getElementById('printNama').textContent = nama;
            document.getElementById('printAlamat').textContent = alamat;
            document.getElementById('printHp').textContent = hp;
            
            // Format tanggal
            const dateObj = new Date(tanggal);
            const options = { day: '2-digit', month: 'long', year: 'numeric' };
            document.getElementById('printTanggal').textContent = dateObj.toLocaleDateString('id-ID', options);
            
            document.getElementById('printBerat').textContent = berat.toFixed(2);
            document.getElementById('printHarga').textContent = harga.toLocaleString('id-ID');
            document.getElementById('printTotal').textContent = total.toLocaleString('id-ID');
            
            // Tampilkan hasil
            document.getElementById('hasil').style.display = 'block';
        }
        
        function tampilkanCetak() {
            document.getElementById('hasil').style.display = 'none';
            document.getElementById('printArea').style.display = 'block';
        }
        
        function sembunyikanCetak() {
            document.getElementById('printArea').style.display = 'none';
            document.getElementById('hasil').style.display = 'block';
        }
        
        function cetak() {
            window.print();
        }
        
        function resetForm() {
            document.getElementById('nama').value = '';
            document.getElementById('alamat').value = '';
            document.getElementById('hp').value = '';
            document.getElementById('tanggal').valueAsDate = new Date();
            document.getElementById('berat').value = '';
            document.getElementById('harga').value = '';
            document.getElementById('hasil').style.display = 'none';
            document.getElementById('printArea').style.display = 'none';
        }
    </script>
</body>
</html>
